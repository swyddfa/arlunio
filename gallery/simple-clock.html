

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    
<title>Simple Clock | Arlunio Gallery</title>


    <link rel="stylesheet" href="/css/main.css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300&display=swap" rel="stylesheet" />
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

    
<link rel="stylesheet" href="/css/image.css">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Simple Clock by Alex Carney | Arlunio Gallery ">
<meta name="twitter:image" content="https://www.arlun.io/gallery/image/simple-clock.png">
<meta name="twitter:image:alt" content="Simple Clock">

</head>

<body>
    <header class="two-col">
        <a href="/gallery/">
            
            <svg xmlns="http://www.w3.org/2000/svg" width="120" height="50" viewBox="0 0 300 125" style="fill: white;stroke: white" version="1.0">
  <g transform="translate(0 -27)">
    <g fill="none" stroke-width="5">
      <path d="M12.596 141.29l32-64m-38-26s0-13.987 12-14c9.923-.01 13.345 8.074 16 14 2.585 5.773 32 78 32 78 3.013 7.345 6.28 12 12 12 10 0 12-12 12-12" stroke-linecap="round" />
      <path d="M27.596 111.29s9.125 3.295 16.398 3.293c6.989-.002 15.602-3.292 15.602-3.292" />
    </g>
    <path d="M108.195 141.225v-21c0-2.806 1.9-5.523 3.958-7.43 2.147-1.988 5.116-3.485 8.042-3.52 4-.05 7.805.725 7.805.725M140.13 78.766v52c0 3 1.233 5.739 4 8 3.614 2.953 10.44 3.016 14 0 3.308-2.8 4-8 4-8M175 111.075l-.056 19.288c-.009 3 1.233 5.738 4 8 3.614 2.953 10.44 3.016 14 0 3.308-2.801 4-8 4-8l.056-19.288M211.394 140.22l-.056-19.289c-.009-3 1.233-5.739 4-8 3.614-2.953 10.44-3.016 14 0 3.308 2.801 4 8 4 8l.056 19.288M247.79 110.168L248 141" fill="none" stroke-width="5" stroke-linecap="round" />
    <circle cx="276.985" cy="125.651" r="15.413" fill="none" stroke-width="4.476" stroke-linecap="round" />
    <circle cx="248" cy="100" r="4" />
  </g>
</svg>
            
        </a>
        <nav class="menu">
            <ul>
                <li><a href="/docs/">Docs</a></li>
                <li><a href="/gallery/">Gallery</a></li>
            </ul>
        </nav>
    </header>

    
<style>

</style>
<div class="image">
    <input type="checkbox" id="img-fullscreen" />
    <div class="image-display">
        <label for="img-fullscreen">
            <img src="image/simple-clock.png" alt="Simple Clock" />
        </label>
    </div>

    <div class="image-definition">
        <input type="checkbox" id="hide-notes" />
        <div class="image-meta">
            <div class="image-author">
                <img class="avatar" src="https://github.com/alcarney.png" />
                <div>
                    <h1>Simple Clock</h1>
                    <h3>Alex Carney</h3>
                </div>
            </div>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <use xlink:href="/svg/feather-sprite.svg#calendar" />
</svg><span>28 Dec 2019</span>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <use xlink:href="/svg/feather-sprite.svg#image" />
</svg><span>1920 x 1080</span>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <use xlink:href="/svg/feather-sprite.svg#git-merge" />
</svg><span>11 revisions</span>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <use xlink:href="/svg/feather-sprite.svg#file-text" />
</svg><span>67 sloc</span>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <use xlink:href="/svg/feather-sprite.svg#terminal" />
</svg><span>v0.0.6</span>
        </div>
        <div class="image-meta">
            <label for="hide-notes">Notes</label>
        </div>

        <div style="margin-top: 10px">
            <a href="https://mybinder.org/v2/gh/swyddfa/arlunio/gh-pages?filepath=examples/Simple Clock.ipynb" target="_blank" rel="noopener">
    <img src="https://img.shields.io/badge/Try%20It%20Live!-on%20binder-579ACA.svg?logo=data:image/png;base64,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">
</a>
        </div>

        
        <div class="markdown">
            <p>I thought it would be interesting to experiment with creating an image that changed each time it was drawn.
Now this isn't the most exciting realisation of that idea, but it does also touch on an idea I want to look at
developing further as part of <code>arlunio</code> itself. Applying the concept of interfaces to arlunio images I think
could be very powerful - imagine having some generic "human" that knew how to walk and all you had to
do was tell it how to draw one...</p>
<p>Anyway back to this image, as you've probably noticed by now it's a clock - not a very interesting clock
but it tells the time, in fact it's frozen at the time that it was when the image was rendered.</p>
        </div>
        
        <div class="code">
            <div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">arlunio</span> <span class="k">as</span> <span class="nn">ar</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="kn">from</span> <span class="nn">arlunio.image</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">fill</span> 
<span class="kn">from</span> <span class="nn">arlunio.mask</span> <span class="kn">import</span> <span class="n">all_</span>
<span class="kn">from</span> <span class="nn">arlunio.math</span> <span class="kn">import</span> <span class="n">R</span><span class="p">,</span> <span class="n">T</span>
<span class="kn">from</span> <span class="nn">arlunio.shape</span> <span class="kn">import</span> <span class="n">Circle</span>
</pre></div>

        </div>
        
        <div class="markdown">
            <p>As the clock is made up from a collection of distinct shapes you need to ensure that each
component is defined with a consistent scale otherwise it won't look right. I found
it useful to say that the radius of the clockface is <code>1</code> and then define everything else relative
to that. However since the default scale of the grid an image is defined on is also <code>1</code> the
clock would look a bit cramped as it would run right up againt the edge.</p>
<p>Rather than work to a more awkard scale I'm defining a <code>scale</code> paramaeter that I'm going to pass
to each shape. This changes the size of the underlying cartesian grid that is mapped onto the
image when drawn. By enlarging this grid each shape will appear smaller and fit better into the
final image</p>
        </div>
        
        <div class="code">
            <div class="highlight"><pre><span></span><span class="n">scale</span> <span class="o">=</span> <span class="mf">1.1</span>
</pre></div>

        </div>
        
        <div class="markdown">
            <p>As you've probably noticed the hands of the clock are just rectangles, but instead of
using the built in <code>Rectangle</code> shape in the standard library I've decided to define
a custom <code>ClockHand</code> shape. This is because the standard <code>Rectangle</code> shape is hard to
control in this scenario (perhaps this should be improved 🤔...) You will also see that 
I'm using <a href="https://en.wikipedia.org/wiki/Polar_coordinate_system">polar coordinates</a>
instead of the conventional \(x\) and \(y\)</p>
<p>By defining the <code>ClockHand</code> shape with polar coordinates adding the ability to set the
rotation becomes easy since all we have to do is take an offset <code>t0</code> and subtract it from
the angle parameter <code>t</code>. Something to note is that when <code>arlunio</code> maps polar coordinates onto
an image it follows the mathematical convention of having the line <code>t = 0</code> be at
3 o'clock, so in order to make positioning the hands easier later on I also shift this
coordinate by \(\frac{\pi}{2}\) (90 degrees) so when <code>t0 = 0</code> the hand will be pointing at
12 o'clock</p>
<p>Unfortunately while nice for expressing rotations, polar coordinates are certainly not the
best at expressing a rectangle. Thankfully the conversion from polar to standard \(x\) and
\(y\) coordinates is quite straightforward</p>
<p>\begin{align}
    x &amp;= r\cos{(t)} \\
    y &amp;= r\sin{(t)} 
\end{align}</p>
<p>Once we have our \(x\) and \(y\) coordinates it's easy enough to define a rectangle as
(ar.)all the \(x\) values between <code>0</code> and the <code>length</code> <strong>and</strong> all the \(y\) values
between <code>-size</code> and <code>size</code>.</p>
        </div>
        
        <div class="code">
            <div class="highlight"><pre><span></span><span class="nd">@ar</span><span class="o">.</span><span class="n">definition</span>
<span class="k">def</span> <span class="nf">ClockHand</span><span class="p">(</span><span class="n">r</span><span class="p">:</span> <span class="n">R</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">0.025</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">-=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span>
    
    <span class="n">x</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
      
    <span class="k">return</span> <span class="n">all_</span><span class="p">(</span>
        <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">size</span>
    <span class="p">)</span>
</pre></div>

        </div>
        
        <div class="markdown">
            <p>Next we look at the shape I've called <code>Numeral</code>, since it's used to indicate the hours on the
clockface having the ability to rotate it easily is important so it is also defined with respect
to polar coordinates. In fact it's definition is almost identical to the <code>ClockHand</code> shape
with one small difference. To try and make the clock a little more interesting to look at the sides
of a numeral are defined to be those underneath a small slope, instead of having flat sides
like a rectangle.</p>
        </div>
        
        <div class="code">
            <div class="highlight"><pre><span></span><span class="nd">@ar</span><span class="o">.</span><span class="n">definition</span>
<span class="k">def</span> <span class="nf">Numeral</span><span class="p">(</span><span class="n">r</span><span class="p">:</span> <span class="n">R</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">T</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">-=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span>
    
    <span class="n">x</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">all_</span><span class="p">(</span>
        <span class="n">x</span> <span class="o">&gt;</span> <span class="mf">0.8</span><span class="p">,</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">0.95</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mf">0.1</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.07</span>
    <span class="p">)</span>
</pre></div>

        </div>
        
        <div class="markdown">
            <p>With all the shapes that we need defined it's time to focus on how we're going to position
the hands in order to tell the time. This is where we get into that "interfaces" idea I was talking
about earlier, as you can see there's nothing formal yet instead we're just taking advantage of 
Python's duck typing. This function only requires that the shapes you give it all have a 
<code>t0</code> property that controls its angle - which is all you need to implement a clock poser(?),
positioner(?), director(?)... 🤔 we'll have to think of a name later!</p>
<p>Calculating the angle itself is quite straightforward - assuming you're familiar with
<a href="https://en.wikipedia.org/wiki/Radian">radians</a> that is. The <code>make_clock</code> function is 
written with the assumption that <code>t0 = 0</code> is going to correpsond with the hand pointing at 12 o'clock,
which we ensured earlier when shifting the <code>t</code> parameter in the <code>ClockHand</code> shape by \(\frac{\pi}{2}\)
radians (90 degrees).</p>
<p>From there it's case of unpacking our Python <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a>
object and calculating the percentage each respective hand has travelled around the clockface 
by dividing it by the maximum value each hand can represent (60 minutes in an hour, 12 hours 
on a clock etc). Once we have the percentage we can multiply it by \(2\pi\)) (360 degrees)
to get the angle. Finally we add each of the shapes representing the hands together so that
we return a single object representing the clock.</p>
        </div>
        
        <div class="code">
            <div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">make_clock</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">hour_hand</span><span class="p">,</span> <span class="n">minute_hand</span><span class="p">,</span> <span class="n">second_hand</span><span class="p">):</span>
    <span class="n">hour</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">hour</span> <span class="k">if</span> <span class="n">dt</span><span class="o">.</span><span class="n">hour</span> <span class="o">&lt;=</span> <span class="mi">12</span> <span class="k">else</span> <span class="n">dt</span><span class="o">.</span><span class="n">hour</span> <span class="o">-</span> <span class="mi">12</span>
    <span class="n">minutes</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">minute</span>
    <span class="n">seconds</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">second</span>
    
    <span class="n">second_hand</span><span class="o">.</span><span class="n">t0</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="n">seconds</span> <span class="o">/</span> <span class="mi">60</span><span class="p">)</span> 
    <span class="n">minute_hand</span><span class="o">.</span><span class="n">t0</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="n">minutes</span> <span class="o">/</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">hour_hand</span><span class="o">.</span><span class="n">t0</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="p">((</span><span class="n">hour</span> <span class="o">/</span> <span class="mi">12</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">minutes</span> <span class="o">/</span> <span class="mi">600</span><span class="p">))</span>

    <span class="n">image</span> <span class="o">=</span> <span class="n">fill</span><span class="p">(</span><span class="n">second_hand</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">),</span> <span class="n">foreground</span><span class="o">=</span><span class="s2">&quot;#f00&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">fill</span><span class="p">(</span><span class="n">minute_hand</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">),</span> <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">fill</span><span class="p">(</span><span class="n">hour_hand</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">),</span> <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">)</span>

    <span class="n">center</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">fill</span><span class="p">(</span><span class="n">center</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">),</span> <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">image</span>
</pre></div>

        </div>
        
        <div class="markdown">
            <p>A few other points of interest to make about the above implementation</p>
<ul>
<li><code>datetime</code> objects use 24hr time so it feels neater to convert it to 12hr time even if it's
  not strictly necessary</li>
<li>When calculating the angle for the hour hand we also add a small contribution from the minute
  hand so that we replicate the effect of the hour hand moving between numbers throughout the
  hour. - However it probably requires further thought in order to produce a more accurate result...</li>
</ul>
<p>Last but not least we come to the final assembly, I've gone on long enough as it is so here
is a few highlights</p>
<ul>
<li>We create three instances of the <code>ClockHand</code>, hours, minutes and seconds</li>
<li>Using a for loop we "spin" an instance of the <code>Numeral</code> shape around the clockface one for each 
  hour.</li>
<li>Since our <code>make_clock</code> function was written to take any <code>datetime</code> instance, having the clock
  frozen at the time it was drawn is a simple as passing the result of <code>datetime.now()</code> to the
  function.</li>
</ul>
        </div>
        
        <div class="code">
            <div class="highlight"><pre><span></span><span class="nd">@ar</span><span class="o">.</span><span class="n">definition</span>
<span class="k">def</span> <span class="nf">Clock</span><span class="p">(</span><span class="n">width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Image</span><span class="p">:</span>

    <span class="n">clock</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pt</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">fill</span><span class="p">(</span><span class="n">clock</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">),</span> <span class="n">background</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">):</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">numeral</span> <span class="o">=</span> <span class="n">Numeral</span><span class="p">(</span><span class="n">t0</span><span class="o">=</span><span class="n">t0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">)</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">fill</span><span class="p">(</span><span class="n">numeral</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">),</span> <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">)</span>

    <span class="n">hour_hand</span> <span class="o">=</span> <span class="n">ClockHand</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">)</span>
    <span class="n">minute_hand</span> <span class="o">=</span> <span class="n">ClockHand</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">)</span>
    <span class="n">second_hand</span> <span class="o">=</span> <span class="n">ClockHand</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">length</span><span class="o">=.</span><span class="mi">95</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">make_clock</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">hour_hand</span><span class="p">,</span> <span class="n">minute_hand</span><span class="p">,</span> <span class="n">second_hand</span><span class="p">)</span>
</pre></div>

        </div>
        
        <div class="code">
            <div class="highlight"><pre><span></span><span class="n">clock</span> <span class="o">=</span> <span class="n">Clock</span><span class="p">()</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">clock</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">1920</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1080</span><span class="p">)</span>
<span class="n">image</span>
</pre></div>

        </div>
        
    </div>
</div>

    <footer>
        <div class="footer-content">
            <div>
                <h4>Site</h4>
                <p>Last Updated: 06/08/20 06:14:13</p>
                <p>Arlunio: v0.11.0</p>
            </div>
            <div></div>
            <div>
                <h4>Credits</h4>
                <p><a href="https://github.com/arcticicestudio/nord">Nord Color Scheme</a></p>
                <p><a href="https://github.com/feathericons/feather">Feather Icons</a></p>
            </div>
        </div>
    </footer>
</body>

</html>